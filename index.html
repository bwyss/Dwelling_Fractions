<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="screen.css" rel="stylesheet" type="text/css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />      
        <!-- Leaflet Stuff-->
        
        <script src='wax/ext/modestmaps.min.js' type='text/javascript'></script>
        <script src='wax/dist/wax.mm.js' type='text/javascript'></script>
        <link href='wax/theme/controls.css' rel='stylesheet' type='text/css' /> 

        
        <!-- Odds & Ends-->
        <script type="text/javascript" src="jquery.min.js"></script>
        <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDQCU3F1OHX_cljI31zr2TLe1pRBXkLE_8&sensor=false" type="text/javascript"></script>
        
        <style type="text/css">
        	body { margin-top: 1.0em; background-color: #444;}
            #map { position:absolute; top:0; bottom:0; width:100%; }       		
        </style>
        
        
        <title>DF Demo</title>
    </head>
    <body>
    	<br/>
		<div id='intro-map' class='map-demo'></div>
		<script type="text/javascript">	
	
    var url = 'http://a.tiles.mapbox.com/v3/bwyss.map-45tf06mr.jsonp';

    var minZoom = 2;
    var maxZoom = 5;

    wax.tilejson(url, function(tilejson) {
        var m = new MM.Map('intro-map',
            new wax.mm.connector(tilejson),
            new MM.Point(1400,600));

    m.setCenterZoom({ lat: 30, lon: 30 }, 2);

    wax.mm.zoomer(m).appendTo(m.parent);
    wax.mm.interaction()
        .map(m)
        .tilejson(tilejson)
        .on(wax.tooltip().animate(true).parent(m.parent).events());
    });

    /*
//leaflet approach, not working when pan:

 wax.tilejson('http://a.tiles.mapbox.com/v3/bwyss.map-45tf06mr.jsonp', function(tilejson) {

    var map = new L.Map('intro-map')
        .addLayer(new wax.leaf.connector(tilejson))
        .setView(new L.LatLng(20, 20), 3);
    map.minZoom(4);

    wax.leaf.legend(map, tilejson).appendTo(map._container);

    wax.leaf.interaction()
        .map(map)
        .tilejson(tilejson)
        .on(wax.tooltip().animate(true).parent(map._container).events());   

    });

    */


		</script>
    </body>
</html>
